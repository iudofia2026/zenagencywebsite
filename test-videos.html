<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Test Page - Zen Agency</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0b0b0b;
            color: #ffffff;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #222;
            border-radius: 8px;
        }
        .video-test {
            margin: 15px 0;
            padding: 15px;
            background: #101010;
            border-radius: 8px;
        }
        .status {
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
        }
        .success { background: #4CAF50; color: white; }
        .error { background: #f44336; color: white; }
        .warning { background: #ff9800; color: white; }
        video {
            max-width: 300px;
            margin: 10px 0;
        }
        .file-info {
            font-size: 0.9em;
            color: #b8b8b8;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <h1>üé¨ Zen Agency Video Test Page</h1>
    <p>This page helps you test if your video files are properly configured before deploying to Netlify.</p>

    <div class="test-section">
        <h2>üìÅ File Structure Test</h2>
        <div id="file-structure-results"></div>
    </div>

    <div class="test-section">
        <h2>üé• Hero Videos Test</h2>
        <div class="video-test">
            <h3>Hero Video 1</h3>
            <video controls preload="metadata" poster="assets/posters/hero-1.jpg">
                <source src="assets/videos/hero-1.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="file-info" id="hero-1-info"></div>
        </div>
        
        <div class="video-test">
            <h3>Hero Video 2</h3>
            <video controls preload="metadata" poster="assets/posters/hero-2.jpg">
                <source src="assets/videos/hero-2.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="file-info" id="hero-2-info"></div>
        </div>
        
        <div class="video-test">
            <h3>Hero Video 3</h3>
            <video controls preload="metadata" poster="assets/posters/hero-3.jpg">
                <source src="assets/videos/hero-3.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="file-info" id="hero-3-info"></div>
        </div>
    </div>

    <div class="test-section">
        <h2>üì± Reel Videos Test</h2>
        <div id="reels-test"></div>
    </div>

    <div class="test-section">
        <h2>üéôÔ∏è Podcast Video Test</h2>
        <div class="video-test">
            <h3>Intro Podcast</h3>
            <video controls preload="metadata" poster="assets/posters/intro-podcast.jpg">
                <source src="assets/videos/INTRO PODCAST.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="file-info" id="podcast-info"></div>
        </div>
    </div>

    <div class="test-section">
        <h2>üìä Test Results Summary</h2>
        <div id="summary"></div>
    </div>

    <script>
        // Test file existence and loading
        async function testVideoFile(videoPath, posterPath, elementId) {
            const video = document.querySelector(`#${elementId}`).previousElementSibling;
            const infoDiv = document.getElementById(elementId);
            
            try {
                // Test video file
                const videoResponse = await fetch(videoPath, { method: 'HEAD' });
                const videoStatus = videoResponse.ok ? 'success' : 'error';
                const videoText = videoResponse.ok ? '‚úÖ Video found' : '‚ùå Video missing';
                
                // Test poster file
                const posterResponse = await fetch(posterPath, { method: 'HEAD' });
                const posterStatus = posterResponse.ok ? 'success' : 'error';
                const posterText = posterResponse.ok ? '‚úÖ Poster found' : '‚ùå Poster missing';
                
                // Get file size if available
                const contentLength = videoResponse.headers.get('content-length');
                const fileSize = contentLength ? `(${(contentLength / 1024 / 1024).toFixed(1)}MB)` : '';
                
                infoDiv.innerHTML = `
                    <span class="status ${videoStatus}">${videoText}</span>
                    <span class="status ${posterStatus}">${posterText}</span>
                    ${fileSize ? `<div class="file-info">File size: ${fileSize}</div>` : ''}
                `;
                
                return { video: videoResponse.ok, poster: posterResponse.ok };
            } catch (error) {
                infoDiv.innerHTML = `<span class="status error">‚ùå Error testing files</span>`;
                return { video: false, poster: false };
            }
        }

        // Test all videos
        async function runTests() {
            const results = {
                hero: [],
                reels: [],
                podcast: null
            };

            // Test hero videos
            for (let i = 1; i <= 3; i++) {
                const result = await testVideoFile(
                    `assets/videos/hero-${i}.mp4`,
                    `assets/posters/hero-${i}.jpg`,
                    `hero-${i}-info`
                );
                results.hero.push(result);
            }

            // Test reel videos
            for (let i = 1; i <= 9; i++) {
                const result = await testVideoFile(
                    `assets/videos/reel-${i}.mp4`,
                    `assets/posters/reel-${i}.jpg`,
                    `reel-${i}-info`
                );
                results.reels.push(result);
            }

            // Test podcast video
            results.podcast = await testVideoFile(
                'assets/videos/INTRO PODCAST.mp4',
                'assets/posters/intro-podcast.jpg',
                'podcast-info'
            );

            // Generate summary
            generateSummary(results);
        }

        function generateSummary(results) {
            const summaryDiv = document.getElementById('summary');
            
            const totalVideos = 3 + 9 + 1; // hero + reels + podcast
            const totalPosters = totalVideos;
            
            let videoCount = 0;
            let posterCount = 0;
            
            results.hero.forEach(r => {
                if (r.video) videoCount++;
                if (r.poster) posterCount++;
            });
            
            results.reels.forEach(r => {
                if (r.video) videoCount++;
                if (r.poster) posterCount++;
            });
            
            if (results.podcast.video) videoCount++;
            if (results.podcast.poster) posterCount++;
            
            const videoStatus = videoCount === totalVideos ? 'success' : 'warning';
            const posterStatus = posterCount === totalPosters ? 'success' : 'warning';
            
            summaryDiv.innerHTML = `
                <div class="status ${videoStatus}">
                    Videos: ${videoCount}/${totalVideos} found
                </div>
                <div class="status ${posterStatus}">
                    Posters: ${posterCount}/${totalPosters} found
                </div>
                <div style="margin-top: 15px;">
                    <strong>Next Steps:</strong>
                    <ul>
                        <li>If all files are found ‚úÖ, you're ready to deploy!</li>
                        <li>If files are missing ‚ùå, add them to the correct directories</li>
                        <li>If file sizes are over 50MB, compress them using the guide</li>
                    </ul>
                </div>
            `;
        }

        // Generate reel test HTML
        function generateReelTests() {
            const reelsDiv = document.getElementById('reels-test');
            let html = '';
            
            for (let i = 1; i <= 9; i++) {
                html += `
                    <div class="video-test">
                        <h3>Reel ${i}</h3>
                        <video controls preload="metadata" poster="assets/posters/reel-${i}.jpg">
                            <source src="assets/videos/reel-${i}.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <div class="file-info" id="reel-${i}-info"></div>
                    </div>
                `;
            }
            
            reelsDiv.innerHTML = html;
        }

        // Initialize tests
        generateReelTests();
        runTests();
    </script>
</body>
</html>